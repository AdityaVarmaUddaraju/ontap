---
sidebar: high-availability_sidebar
permalink: high-availability/ha_automatic_giveback_commands.html
keywords: ontap, high, availability, ha, pair, automatic, giveback, commands
summary: Automatic giveback commands
---

= Automatic giveback commands
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
In certain situations, you might need to manage your automatic giveback settings using ONTAP commands.
+----------------------------------+----------------------------------+
| > **If you want to\...**         | **Use this command\...**         |
+==================================+==================================+
| > Enable automatic giveback so   | storage failover modify ‑node    |
| > that giveback occurs as soon   | *nodename*                       |
| > as the taken-over node boots,  |                                  |
| > reaches the Waiting for        | ‑auto‑giveback true              |
| > Giveback state, and the Delay  |                                  |
| > before Auto Giveback period    |                                  |
| > has expired.                   |                                  |
| >                                |                                  |
| > The default setting is true.   |                                  |
+----------------------------------+----------------------------------+
| Disable automatic giveback. The  | storage failover modify ‑node    |
| default setting is true.         | *nodename*                       |
|                                  |                                  |
| > **Note:** Setting this         | ‑auto‑giveback false             |
| > parameter to false does not    |                                  |
| > disable automatic giveback     |                                  |
| > after takeover on panic and    |                                  |
| > takeover on reboot; automatic  |                                  |
| > giveback after takeover on     |                                  |
| > panic must be disabled by      |                                  |
| > setting the                    |                                  |
| >                                |                                  |
| > ‑auto‑giveback‑after‑panic     |                                  |
| > parameter to false.            |                                  |
+----------------------------------+----------------------------------+
| > Disable automatic giveback     | storage failover modify ‑node    |
| > after takeover on panic (this  | *nodename*                       |
| > setting is enabled by          |                                  |
| > default).                      | ‑auto‑giveback‑after‑panic false |
+----------------------------------+----------------------------------+
| Delay automatic giveback for a   | storage failover modify ‑node    |
| specified number of seconds      | *nodename*                       |
| (default is 600).                |                                  |
|                                  | ‑delay‑seconds *seconds*         |
| This option determines the       |                                  |
| minimum time that a node remains |                                  |
| in takeover before performing an |                                  |
| automatic giveback.              |                                  |
+----------------------------------+----------------------------------+

== How variations of the storage failover modify command affect automatic giveback

The operation of automatic giveback depends on how you configure the parameters of the storage failover modify command.

The following table lists the storage failover modify command parameters that apply to takeover events not caused by a panic:

[cols=2*,options="header"]
|===
|Parameter| Default setting

|`-auto-giveback true|false`
|true
|`-delay-seconds integer (seconds)`
|600
|`-onreboot true|false`
|true
|===

The following table describes how combinations of the `-onreboot` and `-auto-giveback` parameters affect automatic giveback for takeover events not caused by a panic.

MISSING TABLE

[NOTE]
If the `-onreboot` parameter is set to true and a takeover occurs due to a reboot, then automatic giveback is always performed, regardless of whether the `-auto-giveback` parameter is set to true.

When the ``-onreboot` parameter is set to false, a takeover does not occur in the case of a node reboot. Therefore, automatic giveback cannot occur, regardless of whether the `-auto-giveback` parameter is set to true. A client disruption occurs.

== The effects of automatic giveback parameter combinations that apply to panic situations.

The following table lists the `storage failover modify` command parameters that apply to panic situations:

MISSING TABLE

The following table describes how parameter combinations of the `storage failover modify` command affect automatic giveback in panic situations.


[cols=2*,options="header"]
|===
|storage failover parameters used |Does automatic giveback occur after panic?

|-onpanic `false`
-auto-giveback-after-panic `true`
|Not applicable
|-onpanic `false`
-auto-giveback-after-panic `false`
|Not applicable
|-onpanic `true`
-auto-giveback `true`
-auto-giveback-after-panic `true`
|Yes
|-onpanic `true`
-auto-giveback `true`
-auto-giveback-after-panic `false`
|No
|-onpanic `true`
-auto-giveback `false`
-auto-giveback-after-panic `true`
|Yes
|-onpanic `true`
-auto-giveback `false`
-auto-giveback-after-panic `false`
|No
|-onpanic `false`
If -onpanic is set to `false`, takeover/giveback does not occur, regardless of the value set for -auto-giveback or - auto-giveback-after-panic
|No
|===

NOTE: If the -onpanic parameter is set to `true`, automatic giveback is always performed if a panic occurs. If the -onpanic parameter is set to `false`, takeover does not occur. Therefore, automatic giveback cannot occur, even if the ‑auto‑giveback‑after‑panic parameter is set to `true`. A client disruption occurs.

//
// This file was created with NDAC Version 2.0 (August 17, 2020)
//
// 2021-04-14 10:46:21.398175
//
